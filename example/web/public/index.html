<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="kaluga-example" content="app-id=2732HQPVJP.com.splendo.kaluga.example, app-argument=https://kaluga-links.web.app/kalugaexample?name=Kaluga&type=Multiplatform+Library">

        <link rel="stylesheet" href="style.css">
      <title>Kaluga Example Web</title>
    </head>
    <body>
        <script>
          var IS_IPAD = navigator.userAgent.match(/iPad/i) != null
          var IS_IPHONE = !IS_IPAD && ((navigator.userAgent.match(/iPhone/i) != null) || (navigator.userAgent.match(/iPod/i) != null));
          var IS_IOS = IS_IPAD || IS_IPHONE;
          var IS_ANDROID = !IS_IOS && navigator.userAgent.match(/android/i) != null;
          var IS_MOBILE = IS_IOS || IS_ANDROID;

          function openApp() {
              if (IS_IOS) {
                  console.log("site reached from ios.");
                  window.location = "https://kaluga-links.web.app/kalugaexample?name=Kaluga&type=Multiplatform+Library";
              } else if (IS_ANDROID) {
                  console.log("site reached from android.");
                  window.location = "https://kaluga-links.web.app/kalugaexample?name=Kaluga&type=Multiplatform+Library";
              } else {
                  console.log("site reached from a computer.");
              }
          }
        </script>
        <h1>Kaluga Links</h1>
        <p>When "Open Kaluga Example" is tapped, the app will be opened using App Links (for android) or Universal Links (for ios) and passing a query with the values we want to deserialize into an object.</p>
        <p>For the purpose of this demo we will pass to the app the query "name=Kaluga&type=Multiplatform Library." and we will deserialize it using kaluga-links method `handleIncomingLinks` into `Repository` class.</p>
        <code>
            @Serializable
            <br/>
            data class Repository(val name: String, val type: String)
        </code>

        <div id="open-app-div">
            <a href="#" onclick="openApp();">Open Kaluga Example</a>
        </div>
    </body>
</html>
