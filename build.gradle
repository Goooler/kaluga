plugins {
    id 'kotlin-multiplatform' version '1.3.31'
    id 'maven-publish'
}

group 'com.splendo.components'
version '0.0.1'

repositories {
    google()
    jcenter()
    mavenCentral()
}

kotlin {
    iosArm32()
    iosArm64()
    iosX64()

    sourceSets {
        commonMain {
            dependencies {
                implementation kotlin('stdlib-common')
            }
        }
        commonTest {
            dependencies {
                implementation kotlin('test-common')
                implementation kotlin('test-annotations-common')
            }
        }
        
        iosX64Main {
            kotlin.srcDir('src/iosMain/kotlin')
            resources.srcDir('src/iosMain/resources')
        }
        iosX64Test {
            kotlin.srcDir('src/iosTest/kotlin')
            resources.srcDir('src/iosTest/resources')
        }
        iosArm32Main {
            dependsOn iosX64Main
        }
        iosArm32Test {
            dependsOn iosX64Test
        }
        iosArm64Main {
            dependsOn iosX64Main
        }
        iosArm64Test {
            dependsOn iosX64Test
        }

        androidMain {
            dependencies {
                implementation kotlin('stdlib')
            }
        }
        androidTest {
            dependencies {
                implementation kotlin('test')
                implementation kotlin('test-junit')
            }
        }
    }
}
