
String type = gradle.ext.component_type

afterEvaluate {
    publishing {
        publications {
            logger.lifecycle("This project module will be published as: $gradle.ext.component_type")
            if (type.contains("compose")) {
                release(MavenPublication) {
                    from components.release

                    artifactId = name
                    groupId = "com.splendo.kaluga"
                    version = gradle.ext.library_version
                }
                // Creates a Maven publication called “debug”.
                debug(MavenPublication) {
                    from components.debug

                    artifactId = name
                    groupId = "com.splendo.kaluga"
                    version = gradle.ext.library_version
                }
            } else {
                kotlinMultiplatform { publication ->
                    artifactId = name
                    groupId = "com.splendo.kaluga"
                    version = gradle.ext.library_version
                }
            }
        }
    }
}
